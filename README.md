# æ ¡å›­è·‘è…¿é…é€ç³»ç»Ÿ - UniAppå‰ç«¯

## ğŸ“± é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäº UniApp å¼€å‘çš„æ ¡å›­è·‘è…¿é…é€å°ç¨‹åºï¼Œæ”¯æŒç”¨æˆ·å’Œéª‘æ‰‹åŒèº«ä»½åˆ‡æ¢ã€‚ç”¨æˆ·å¯ä»¥å‘å¸ƒå¸®ä¹°ã€å¸®é€ã€å¸®å–ã€å…¨èƒ½ç­‰è®¢å•ï¼Œéª‘æ‰‹å¯ä»¥æ¥å•é…é€å¹¶è·å¾—æ”¶å…¥ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ‘¤ ç”¨æˆ·ç«¯åŠŸèƒ½

#### 1. ç”¨æˆ·è®¤è¯
- **æ‰‹æœºå·ç™»å½•**
  - æ‰‹æœºå· + SMSéªŒè¯ç ç™»å½•
  - JWT Token è®¤è¯æœºåˆ¶
  - è‡ªåŠ¨ç™»å½•ï¼ˆTokenæœ‰æ•ˆæœŸ7å¤©ï¼‰
  - æ‰‹æœºå·è„±æ•æ˜¾ç¤º

#### 2. é¦–é¡µ
- **é¡¶éƒ¨å®šä½æ **ï¼šæ˜¾ç¤ºå½“å‰æ‰€åœ¨å­¦æ ¡/ä½ç½®
- **è½®æ’­æ¨ªå¹…**ï¼šå±•ç¤ºæ´»åŠ¨å…¬å‘Š
- **åŠŸèƒ½å¯¼èˆª**ï¼š
  - ğŸ›’ å¸®ä¹°ï¼ˆä»£è´­å•†å“ï¼‰
  - ğŸ“¦ å¸®é€ï¼ˆé…é€ç‰©å“ï¼‰
  - ğŸ”‘ å¸®å–ï¼ˆä»£å–å¿«é€’/æ–‡ä»¶ï¼‰
  - ğŸŒŸ å…¨èƒ½ï¼ˆç»¼åˆæœåŠ¡ï¼‰
- **å¿«é€Ÿå‘å¸ƒå¡ç‰‡**ï¼šä¸€é”®åˆ›å»ºè®¢å•
- **æœ€è¿‘è®¢å•**ï¼šå±•ç¤ºæœ€è¿‘è¿›è¡Œçš„è®¢å•

#### 3. è®¢å•ç®¡ç†
- è®¢å•åˆ—è¡¨ï¼ˆå…¨éƒ¨/å¾…æ¥å•/é…é€ä¸­/å·²å®Œæˆ/å·²å–æ¶ˆï¼‰
- è®¢å•è¯¦æƒ…æŸ¥çœ‹
- å–æ¶ˆè®¢å•
- è®¢å•è¯„ä»·

#### 4. ä¸ªäººä¸­å¿ƒ
- **ç”¨æˆ·ä¿¡æ¯å±•ç¤º**ï¼š
  - å¤´åƒã€æ˜µç§°ã€æ‰‹æœºå·
  - è´¦æˆ·ä½™é¢ã€ä¿¡ç”¨åˆ†
  - éª‘æ‰‹è®¤è¯çŠ¶æ€
- **èº«ä»½åˆ‡æ¢**ï¼š
  - å¿«é€Ÿåˆ‡æ¢ä¸ºéª‘æ‰‹æ¨¡å¼
  - å·²è®¤è¯éª‘æ‰‹ç›´æ¥è¿›å…¥æ¥å•å¤§å…
  - æœªè®¤è¯æç¤ºå‰å¾€è®¤è¯
- **å¸¸ç”¨åŠŸèƒ½**ï¼š
  - ğŸ“ æˆ‘çš„åœ°å€ç°¿
  - ğŸ’° æˆ‘çš„é’±åŒ…
  - ğŸ›¡ï¸ éª‘æ‰‹è®¤è¯
  - â­ æˆ‘çš„è¯„ä»·
  - âš™ï¸ è®¾ç½®
- é€€å‡ºç™»å½•

### ğŸ›µ éª‘æ‰‹ç«¯åŠŸèƒ½

#### 1. éª‘æ‰‹è®¤è¯
- **å­¦ç”Ÿè¯è®¤è¯ç”³è¯·**ï¼š
  - çœŸå®å§“å
  - å­¦å·ï¼ˆ8-12ä½ï¼‰
  - å­¦æ ¡åç§°
  - æ‰€å±å­¦é™¢
  - å­¦ç”Ÿè¯ç…§ç‰‡ä¸Šä¼ ï¼ˆOSSå­˜å‚¨ï¼‰
- **è®¤è¯çŠ¶æ€è·Ÿè¸ª**ï¼š
  - â³ å®¡æ ¸ä¸­
  - âœ… å·²é€šè¿‡
  - âŒ å·²é©³å›ï¼ˆæ˜¾ç¤ºé©³å›åŸå› ï¼‰
- **çŠ¶æ€å±•ç¤º**ï¼šè‡ªåŠ¨å›å¡«è®¤è¯ä¿¡æ¯ï¼Œæ”¯æŒé‡æ–°ç”³è¯·

#### 2. æ¥å•å¤§å…
- **è®¢å•ç­›é€‰**ï¼š
  - è·ç¦»æœ€è¿‘
  - é‡‘é¢æœ€é«˜
  - å…¨éƒ¨è®¢å•
- **è®¢å•å¡ç‰‡å±•ç¤º**ï¼š
  - è®¢å•ç±»å‹æ ‡ç­¾ï¼ˆå¸®ä¹°/å¸®é€/å¸®å–/å…¨èƒ½ï¼‰
  - é…é€è´¹ç”¨ï¼ˆé«˜äº®æ˜¾ç¤ºï¼‰
  - å–è´§åœ°å€ & é€è´§åœ°å€
  - è·ç¦»ã€æ—¶é—´ã€ç‰©å“æè¿°
- **ä¸€é”®æ¥å•**ï¼šç¡®è®¤åç«‹å³æ¥å•
- **ä¸‹æ‹‰åˆ·æ–°**ï¼šå®æ—¶æ›´æ–°è®¢å•åˆ—è¡¨
- **ç©ºçŠ¶æ€æç¤º**ï¼šæ— è®¢å•æ—¶å¼•å¯¼åˆ·æ–°

#### 3. é…é€ä¸­
- **å½“å‰é…é€è®¢å•**ï¼š
  - è¿›åº¦æ¡å±•ç¤ºï¼ˆå·²æ¥å• â†’ é…é€ä¸­ â†’ å·²å®Œæˆï¼‰
  - é…é€åœ°å€ä¿¡æ¯
  - è”ç³»äººä¿¡æ¯
- **æ“ä½œåŠŸèƒ½**ï¼š
  - ğŸ“ æ‹¨æ‰“ç”µè¯è”ç³»
  - âœ… å®Œæˆé…é€ï¼ˆä¸Šä¼ å‡­è¯å›¾ç‰‡ï¼‰
- **ä»Šæ—¥ç»Ÿè®¡å¡ç‰‡**ï¼š
  - ä»Šæ—¥å®Œæˆå•æ•°
  - ä»Šæ—¥æ”¶å…¥
  - è¯„åˆ†
- **ç©ºçŠ¶æ€å¼•å¯¼**ï¼šæ— è®¢å•æ—¶å¼•å¯¼å‰å¾€æ¥å•å¤§å…

#### 4. ä¸šç»©ç»Ÿè®¡
- **æ”¶å…¥å¡ç‰‡**ï¼š
  - ğŸ’° æ€»æ”¶å…¥ï¼ˆæœ¬æœˆï¼‰
  - ğŸ’µ è´¦æˆ·ä½™é¢
  - ğŸ“ˆ ä»Šæ—¥æ”¶å…¥
  - æç°æŒ‰é’®ï¼ˆå¼€å‘ä¸­ï¼‰
- **æ•°æ®ç»Ÿè®¡**ï¼š
  - æ€»å•æ•°ã€ä»Šæ—¥å•æ•°
  - è¯„åˆ†ã€å®Œæˆç‡
- **è¿‘æœŸæµæ°´**ï¼š
  - è®¢å•æ”¶å…¥è®°å½•
  - æ”¶å…¥/æ”¯å‡ºæ ‡è¯†
- **è¯„åˆ†ç»Ÿè®¡**ï¼š
  - ç»¼åˆè¯„åˆ†
  - æ€»è¯„ä»·æ•°
  - å¥½è¯„ç‡
  - æŸ¥çœ‹å…¨éƒ¨è¯„ä»·

#### 5. éª‘æ‰‹å¯¼èˆª
- **åº•éƒ¨TabBar**ï¼š
  - ğŸ  æ¥å•å¤§å…
  - ğŸ“¦ é…é€ä¸­
  - ğŸ“Š ä¸šç»©
  - ğŸ‘¤ ç”¨æˆ·æ¨¡å¼ï¼ˆåˆ‡æ¢å›ç”¨æˆ·ï¼‰

#### 6. èº«ä»½åˆ‡æ¢
- **åˆ‡æ¢ä¸ºç”¨æˆ·æ¨¡å¼**ï¼š
  - ç¡®è®¤å¯¹è¯æ¡†
  - è°ƒç”¨åç«¯APIåˆ‡æ¢
  - è·³è½¬åˆ°ç”¨æˆ·é¦–é¡µ
  - æ›´æ–°æœ¬åœ°ç”¨æˆ·ä¿¡æ¯

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**ï¼šUniApp (Vue3)
- **UIç»„ä»¶**ï¼šè‡ªå®šä¹‰ç»„ä»¶
- **çŠ¶æ€ç®¡ç†**ï¼šæœ¬åœ°å­˜å‚¨ + APIå®æ—¶è·å–
- **ç½‘ç»œè¯·æ±‚**ï¼šå°è£…çš„requestå·¥å…·ï¼ˆè‡ªåŠ¨Tokenæ³¨å…¥ï¼‰
- **æ ·å¼**ï¼šSCSS + rpxå“åº”å¼å•ä½

### åç«¯æ¥å£å¯¹æ¥
- **åŸºç¡€URL**ï¼š`http://localhost:9090/api`
- **è®¤è¯æ–¹å¼**ï¼šJWT Token (Bearer)
- **æ•°æ®æ ¼å¼**ï¼šJSON

### æ ¸å¿ƒæ¨¡å—
```
pages/
â”œâ”€â”€ index/          # ç”¨æˆ·é¦–é¡µ
â”œâ”€â”€ orders/         # è®¢å•åˆ—è¡¨
â”œâ”€â”€ message/        # æ¶ˆæ¯ä¸­å¿ƒ
â”œâ”€â”€ mine/           # ä¸ªäººä¸­å¿ƒ
â”œâ”€â”€ login/          # ç™»å½•é¡µ
â”œâ”€â”€ rider/          # éª‘æ‰‹è®¤è¯
â”œâ”€â”€ hall/           # æ¥å•å¤§å…ï¼ˆéª‘æ‰‹ï¼‰
â”œâ”€â”€ running/        # é…é€ä¸­ï¼ˆéª‘æ‰‹ï¼‰
â””â”€â”€ stats/          # ä¸šç»©ç»Ÿè®¡ï¼ˆéª‘æ‰‹ï¼‰

components/
â””â”€â”€ rider-nav/      # éª‘æ‰‹åº•éƒ¨å¯¼èˆªæ 

api/
â”œâ”€â”€ auth.js         # è®¤è¯ç›¸å…³API
â”œâ”€â”€ user.js         # ç”¨æˆ·ç›¸å…³API
â”œâ”€â”€ order.js        # è®¢å•ç›¸å…³API
â”œâ”€â”€ rider.js        # éª‘æ‰‹ç›¸å…³API
â””â”€â”€ common.js       # å…¬å…±APIï¼ˆæ–‡ä»¶ä¸Šä¼ ç­‰ï¼‰

utils/
â”œâ”€â”€ config.js       # é…ç½®æ–‡ä»¶
â”œâ”€â”€ request.js      # ç½‘ç»œè¯·æ±‚å°è£…
â””â”€â”€ token.js        # Tokenç®¡ç†
```

## ğŸ¯ æ ¸å¿ƒä¸šåŠ¡æµç¨‹

### 1. ç”¨æˆ·ç™»å½•æµç¨‹
```mermaid
graph LR
A[æ‰“å¼€å°ç¨‹åº] --> B[æ£€æŸ¥Token]
B --> C{Tokenå­˜åœ¨?}
C -->|æ˜¯| D[è‡ªåŠ¨ç™»å½•]
C -->|å¦| E[è·³è½¬ç™»å½•é¡µ]
E --> F[è¾“å…¥æ‰‹æœºå·]
F --> G[è·å–éªŒè¯ç ]
G --> H[è¾“å…¥éªŒè¯ç ]
H --> I[ç™»å½•æˆåŠŸ]
I --> J[ä¿å­˜Token]
J --> K[è·³è½¬é¦–é¡µ]
```

### 2. éª‘æ‰‹è®¤è¯æµç¨‹
```mermaid
graph LR
A[ä¸ªäººä¸­å¿ƒ] --> B[ç‚¹å‡»éª‘æ‰‹è®¤è¯]
B --> C[å¡«å†™è®¤è¯ä¿¡æ¯]
C --> D[ä¸Šä¼ å­¦ç”Ÿè¯ç…§ç‰‡]
D --> E[æäº¤è®¤è¯]
E --> F[åå°å®¡æ ¸]
F --> G{å®¡æ ¸ç»“æœ}
G -->|é€šè¿‡| H[æˆä¸ºè®¤è¯éª‘æ‰‹]
G -->|é©³å›| I[æ˜¾ç¤ºé©³å›åŸå› ]
I --> J[ä¿®æ”¹åé‡æ–°æäº¤]
```

### 3. è®¢å•é…é€æµç¨‹
```mermaid
graph LR
A[ç”¨æˆ·å‘å¸ƒè®¢å•] --> B[éª‘æ‰‹åœ¨æ¥å•å¤§å…æŸ¥çœ‹]
B --> C[éª‘æ‰‹ç‚¹å‡»æ¥å•]
C --> D[è®¢å•è¿›å…¥é…é€ä¸­]
D --> E[éª‘æ‰‹è”ç³»å®¢æˆ·]
E --> F[éª‘æ‰‹å®Œæˆé…é€]
F --> G[ä¸Šä¼ å‡­è¯ç…§ç‰‡]
G --> H[è®¢å•å®Œæˆ]
H --> I[ç”¨æˆ·è¯„ä»·]
```

### 4. èº«ä»½åˆ‡æ¢æµç¨‹
```mermaid
graph LR
A[ç”¨æˆ·æ¨¡å¼] --> B[ç‚¹å‡»åˆ‡æ¢ä¸ºéª‘æ‰‹]
B --> C{å·²è®¤è¯?}
C -->|æ˜¯| D[ç›´æ¥è¿›å…¥æ¥å•å¤§å…]
C -->|å¦| E[æç¤ºå‰å¾€è®¤è¯]
E --> F[è·³è½¬è®¤è¯é¡µé¢]
F --> G[å®Œæˆè®¤è¯]
G --> D
D --> H[éª‘æ‰‹å·¥ä½œ]
H --> I[ç‚¹å‡»åˆ‡æ¢ä¸ºç”¨æˆ·]
I --> J[ç¡®è®¤åˆ‡æ¢]
J --> K[è¿”å›ç”¨æˆ·é¦–é¡µ]
```

## ğŸ“Š æ•°æ®å¯¹æ¥

### éª‘æ‰‹ç»Ÿè®¡API
åç«¯å·²å®ç°çš„éª‘æ‰‹ä¸“ç”¨ç»Ÿè®¡æ¥å£ï¼š
- **å·¥ä½œå°æ•°æ®**ï¼š`GET /runner/dashboard/overview`
  - ä»Šæ—¥æ”¶å…¥
  - è´¦æˆ·ä½™é¢
  - ä»Šæ—¥å®Œæˆè®¢å•æ•°
  - æ€»å®Œæˆè®¢å•æ•°
  - å¹³å‡è¯„åˆ†
  - æœ¬æœˆç´¯è®¡æ”¶å…¥

- **è®¢å•ç»Ÿè®¡**ï¼š`GET /runner/dashboard/orders`
  - å®Œæˆç‡
  - å¹³å‡é…é€æ—¶é•¿
  - è¿‘7å¤©è®¢å•è¶‹åŠ¿

- **æ”¶å…¥ç»Ÿè®¡**ï¼š`GET /runner/dashboard/income`
  - ä»Šæ—¥/æœ¬å‘¨/æœ¬æœˆ/æ€»æ”¶å…¥
  - å¢é•¿ç‡

### è¯„ä»·ç³»ç»ŸAPI
- **è¯„åˆ†ç»Ÿè®¡**ï¼š`GET /evaluation/statistics?type=received`
  - å¹³å‡è¯„åˆ†
  - æ€»è¯„ä»·æ•°
  - å¥½è¯„ç‡

## ğŸ”‘ å…³é”®ç‰¹æ€§

### 1. åŒèº«ä»½ç³»ç»Ÿ
- ç”¨æˆ·å’Œéª‘æ‰‹èº«ä»½å…±å­˜
- æ— ç¼åˆ‡æ¢ï¼ˆç”¨æˆ· â‡„ éª‘æ‰‹ï¼‰
- ç‹¬ç«‹çš„å¯¼èˆªå’Œç•Œé¢
- å…±äº«ç”¨æˆ·åŸºç¡€ä¿¡æ¯

### 2. å®æ—¶æ•°æ®æ›´æ–°
- é¡µé¢æ˜¾ç¤ºæ—¶ä»åç«¯è·å–æœ€æ–°æ•°æ®
- ä¸‹æ‹‰åˆ·æ–°æ”¯æŒ
- è‡ªåŠ¨æ›´æ–°æœ¬åœ°ç¼“å­˜

### 3. å®Œå–„çš„é”™è¯¯å¤„ç†
- ç»Ÿä¸€çš„é”™è¯¯æç¤º
- ç½‘ç»œå¼‚å¸¸å¤„ç†
- Tokenè¿‡æœŸè‡ªåŠ¨è·³è½¬ç™»å½•
- å‹å¥½çš„ç©ºçŠ¶æ€æç¤º

### 4. ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- åº•éƒ¨å¯¼èˆªæ ï¼ˆéª‘æ‰‹ç«¯ï¼‰
- é¡¶éƒ¨çŠ¶æ€æ ï¼ˆç”¨æˆ·ç«¯ï¼‰
- åŠ è½½åŠ¨ç”»
- ç¡®è®¤å¯¹è¯æ¡†
- æ“ä½œåé¦ˆæç¤º

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 14.0.0
- HBuilderX æˆ– Vue-Cli
- å¾®ä¿¡å¼€å‘è€…å·¥å…·

### å®‰è£…ä¾èµ–
```bash
npm install
```

### æœ¬åœ°å¼€å‘
```bash
# ä½¿ç”¨HBuilderX
# 1. æ‰“å¼€HBuilderX
# 2. å¯¼å…¥é¡¹ç›®
# 3. è¿è¡Œ -> è¿è¡Œåˆ°å°ç¨‹åºæ¨¡æ‹Ÿå™¨ -> å¾®ä¿¡å¼€å‘è€…å·¥å…·

# æˆ–ä½¿ç”¨Vue-Cli
npm run dev:mp-weixin
```

### é…ç½®åç«¯åœ°å€
ä¿®æ”¹ `utils/config.js`ï¼š
```javascript
export const BASE_URL = 'http://localhost:9090'
export const API_BASE_URL = BASE_URL + '/api'
```

### æ„å»ºå‘å¸ƒ
```bash
# å¾®ä¿¡å°ç¨‹åº
npm run build:mp-weixin

# H5
npm run build:h5

# App
npm run build:app
```

## ğŸ“ é¡µé¢æ¸…å•

| é¡µé¢è·¯å¾„ | åŠŸèƒ½è¯´æ˜ | èº«ä»½ |
|---------|---------|------|
| `/pages/login/login` | ç™»å½•é¡µ | å…¬å…± |
| `/pages/index/index` | ç”¨æˆ·é¦–é¡µ | ç”¨æˆ· |
| `/pages/orders/orders` | è®¢å•åˆ—è¡¨ | ç”¨æˆ· |
| `/pages/message/message` | æ¶ˆæ¯ä¸­å¿ƒ | ç”¨æˆ· |
| `/pages/mine/mine` | ä¸ªäººä¸­å¿ƒ | ç”¨æˆ· |
| `/pages/rider/auth` | éª‘æ‰‹è®¤è¯ | éª‘æ‰‹ |
| `/pages/hall/hall` | æ¥å•å¤§å… | éª‘æ‰‹ |
| `/pages/running/running` | é…é€ä¸­ | éª‘æ‰‹ |
| `/pages/stats/stats` | ä¸šç»©ç»Ÿè®¡ | éª‘æ‰‹ |

## ğŸ”§ é…ç½®è¯´æ˜

### pages.json
- é…ç½®é¡µé¢è·¯ç”±
- TabBarè®¾ç½®
- çª—å£æ ·å¼
- ç½‘ç»œè¶…æ—¶è®¾ç½®

### manifest.json
- å°ç¨‹åºAppID
- åº”ç”¨åç§°
- ç‰ˆæœ¬å·
- æƒé™é…ç½®

### æƒé™ç”³è¯·
- ç”¨æˆ·ä¿¡æ¯
- æ‰‹æœºå·
- ä½ç½®ä¿¡æ¯
- ç›¸å†Œï¼ˆä¸Šä¼ å­¦ç”Ÿè¯ï¼‰
- ç›¸æœºï¼ˆå®Œæˆé…é€å‡­è¯ï¼‰

## ğŸ› å·²çŸ¥é—®é¢˜

1. **æç°åŠŸèƒ½**ï¼šå¼€å‘ä¸­
2. **é’±åŒ…æµæ°´**ï¼šä½¿ç”¨ç¤ºä¾‹æ•°æ®
3. **æ¶ˆæ¯ä¸­å¿ƒ**ï¼šé¡µé¢å ä½
4. **è®¢å•è¯¦æƒ…**ï¼šéƒ¨åˆ†é¡µé¢å ä½

## ğŸ“ˆ åç»­ä¼˜åŒ–è®¡åˆ’

- [ ] å®Œå–„æç°å’Œé’±åŒ…æµæ°´åŠŸèƒ½
- [ ] æ·»åŠ è®¢å•åœ°å›¾å¯¼èˆª
- [ ] å®æ—¶ä½ç½®è¿½è¸ª
- [ ] è®¢å•è¶…æ—¶å¤„ç†
- [ ] éª‘æ‰‹åœ¨çº¿çŠ¶æ€
- [ ] è®¢å•æ™ºèƒ½æ¨è
- [ ] æ•°æ®ç»Ÿè®¡å›¾è¡¨
- [ ] ç§¯åˆ†ç³»ç»Ÿ
- [ ] ä¼˜æƒ åˆ¸ç³»ç»Ÿ

## ğŸ“ è”ç³»æ–¹å¼

- **å¼€å‘è€…**ï¼šClaude
- **é¡¹ç›®ç±»å‹**ï¼šæ ¡å›­è·‘è…¿é…é€ç³»ç»Ÿ
- **æŠ€æœ¯æ ˆ**ï¼šUniApp + SpringBoot + MySQL

## ğŸ“„ è®¸å¯è¯

MIT License

---

**æœ€åæ›´æ–°æ—¶é—´**ï¼š2026-01-06
**ç‰ˆæœ¬å·**ï¼šv1.0.0
