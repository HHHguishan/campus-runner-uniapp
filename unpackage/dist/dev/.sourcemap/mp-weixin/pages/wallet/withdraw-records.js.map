{"version":3,"file":"withdraw-records.js","sources":["pages/wallet/withdraw-records.vue","D:/Users/windows/Downloads/HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvd2FsbGV0L3dpdGhkcmF3LXJlY29yZHMudnVl"],"sourcesContent":["<template>\r\n  <view class=\"container\">\r\n    <!-- Ëá™ÂÆö‰πâÂØºËà™Ê†è -->\r\n    <view class=\"nav-bar\">\r\n      <view class=\"nav-back\" @tap=\"goBack\">\r\n        <text class=\"iconfont\">‚Äπ</text>\r\n      </view>\r\n      <view class=\"nav-title\">ÊèêÁé∞ËÆ∞ÂΩï</view>\r\n      <view class=\"nav-placeholder\"></view>\r\n    </view>\r\n\r\n    <view class=\"record-list\" v-if=\"records.length > 0\">\r\n      <view class=\"record-card\" v-for=\"item in records\" :key=\"item.id\">\r\n        <view class=\"card-header\">\r\n          <view class=\"type-info\">\r\n            <text class=\"type-icon\">{{ getIcon(item.accountType) }}</text>\r\n            <text class=\"type-name\">{{ getTypeName(item.accountType) }} ÊèêÁé∞</text>\r\n          </view>\r\n          <view class=\"status\" :class=\"'status-' + item.status\">\r\n            {{ getStatusText(item.status) }}\r\n          </view>\r\n        </view>\r\n\r\n        <view class=\"card-body\">\r\n          <view class=\"amount-row\">\r\n            <text class=\"label\">ÊèêÁé∞ÈáëÈ¢ù</text>\r\n            <text class=\"amount\">-¬•{{ item.amount.toFixed(2) }}</text>\r\n          </view>\r\n          <view class=\"info-row\">\r\n            <text class=\"label\">Êî∂Ê¨æË¥¶Âè∑</text>\r\n            <text class=\"value\">{{ item.accountNo }} ({{ item.realName }})</text>\r\n          </view>\r\n          <view class=\"info-row\">\r\n            <text class=\"label\">Áî≥ËØ∑Êó∂Èó¥</text>\r\n            <text class=\"value\">{{ formatDate(item.createTime) }}</text>\r\n          </view>\r\n          <view class=\"info-row reject-reason\" v-if=\"item.status === 2\">\r\n            <text class=\"label\">È©≥ÂõûÂéüÂõ†</text>\r\n            <text class=\"value\">{{ item.auditMsg || 'Ë¥¶Âè∑ÂºÇÂ∏∏' }}</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- Âä†ËΩΩÊõ¥Â§ö -->\r\n      <view class=\"load-more\">\r\n        <text v-if=\"hasMore\" @tap=\"loadRecords\">ÁÇπÂáªÂä†ËΩΩÊõ¥Â§ö</text>\r\n        <text v-else>Ê≤°ÊúâÊõ¥Â§ö‰∫Ü</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- Á©∫Áä∂ÊÄÅ -->\r\n    <view class=\"empty-state\" v-else>\r\n      <image src=\"/static/empty_data.png\" mode=\"aspectFit\" class=\"empty-img\"></image>\r\n      <text class=\"empty-text\">ÊöÇÊó†ÊèêÁé∞ËÆ∞ÂΩï</text>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      pageNum: 1,\r\n      pageSize: 10,\r\n      records: [],\r\n      hasMore: false,\r\n      loading: false\r\n    }\r\n  },\r\n  onLoad() {\r\n    this.loadRecords(true)\r\n  },\r\n  onPullDownRefresh() {\r\n    this.loadRecords(true)\r\n  },\r\n  methods: {\r\n    async loadRecords(reset = false) {\r\n      if (this.loading) return\r\n      if (reset) {\r\n        this.pageNum = 1\r\n        this.records = []\r\n      }\r\n      \r\n      this.loading = true\r\n      try {\r\n        const res = await this.$request({\r\n          url: '/withdraw/list',\r\n          params: {\r\n            pageNum: this.pageNum,\r\n            pageSize: this.pageSize\r\n          }\r\n        })\r\n        if (res.code === 200) {\r\n          const list = res.data.records\r\n          this.records = this.records.concat(list)\r\n          this.hasMore = list.length === this.pageSize\r\n          this.pageNum++\r\n        }\r\n      } catch (e) {\r\n        console.error('Âä†ËΩΩÊèêÁé∞ËÆ∞ÂΩïÂ§±Ë¥•', e)\r\n      } finally {\r\n        this.loading = false\r\n        uni.stopPullDownRefresh()\r\n      }\r\n    },\r\n    goBack() {\r\n      uni.navigateBack()\r\n    },\r\n    getTypeName(type) {\r\n      const map = { alipay: 'ÊîØ‰ªòÂÆù', wechat: 'ÂæÆ‰ø°', bank: 'Èì∂Ë°åÂç°' }\r\n      return map[type] || 'ÂÖ∂‰ªñ'\r\n    },\r\n    getIcon(type) {\r\n      const map = { alipay: 'üíô', wechat: 'üíö', bank: 'üí≥' }\r\n      return map[type] || 'üí∞'\r\n    },\r\n    getStatusText(status) {\r\n      const map = { 0: 'ÂÆ°Ê†∏‰∏≠', 1: 'Â∑≤ÊâìÊ¨æ', 2: 'Â∑≤È©≥Âõû' }\r\n      return map[status]\r\n    },\r\n    formatDate(dateStr) {\r\n      if (!dateStr) return '-'\r\n      return dateStr.replace('T', ' ').substring(0, 16)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.container {\r\n  min-height: 100vh;\r\n  background-color: #f8f9fa;\r\n  padding: 20rpx;\r\n  padding-top: calc(var(--status-bar-height) + 110rpx);\r\n}\r\n\r\n/* ÂØºËà™Ê†è */\r\n.nav-bar {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  height: 88rpx;\r\n  padding: 0 30rpx;\r\n  padding-top: var(--status-bar-height);\r\n  background: white; /* ËÆ∞ÂΩïÈ°µ‰ΩøÁî®ÁôΩËâ≤ËÉåÊôØÔºåÈªëËâ≤ÊñáÂ≠ó */\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 100;\r\n  border-bottom: 1rpx solid #eee;\r\n}\r\n\r\n.nav-back {\r\n  width: 60rpx;\r\n  height: 60rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 48rpx;\r\n  color: #333;\r\n  font-weight: 300;\r\n}\r\n\r\n.nav-title {\r\n  font-size: 34rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.nav-placeholder {\r\n  width: 60rpx;\r\n}\r\n\r\n.record-card {\r\n  background-color: #fff;\r\n  border-radius: 20rpx;\r\n  padding: 30rpx;\r\n  margin-bottom: 24rpx;\r\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding-bottom: 24rpx;\r\n  border-bottom: 1rpx solid #f5f5f5;\r\n  margin-bottom: 24rpx;\r\n\r\n  .type-info {\r\n    display: flex;\r\n    align-items: center;\r\n    .type-icon { font-size: 32rpx; margin-right: 12rpx; }\r\n    .type-name { font-size: 30rpx; font-weight: 600; color: #333; }\r\n  }\r\n\r\n  .status {\r\n    font-size: 24rpx;\r\n    padding: 6rpx 16rpx;\r\n    border-radius: 8rpx;\r\n  }\r\n  .status-0 { background-color: #fff7e6; color: #fa8c16; } // ÂÆ°Ê†∏‰∏≠\r\n  .status-1 { background-color: #f6ffed; color: #52c41a; } // Â∑≤ÊâìÊ¨æ\r\n  .status-2 { background-color: #fff1f0; color: #f5222d; } // Â∑≤È©≥Âõû\r\n}\r\n\r\n.amount-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 24rpx;\r\n  .label { color: #999; font-size: 28rpx; }\r\n  .amount { font-size: 36rpx; font-weight: bold; color: #333; }\r\n}\r\n\r\n.info-row {\r\n  display: flex;\r\n  margin-bottom: 12rpx;\r\n  font-size: 26rpx;\r\n  .label { color: #999; width: 140rpx; flex-shrink: 0; }\r\n  .value { color: #666; flex: 1; }\r\n}\r\n\r\n.reject-reason {\r\n  margin-top: 12rpx;\r\n  padding-top: 12rpx;\r\n  border-top: 1rpx dashed #eee;\r\n  .value { color: #f5222d; }\r\n}\r\n\r\n.load-more {\r\n  text-align: center;\r\n  padding: 30rpx;\r\n  color: #999;\r\n  font-size: 26rpx;\r\n}\r\n\r\n.empty-state {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding-top: 200rpx;\r\n  .empty-img { width: 240rpx; height: 240rpx; margin-bottom: 30rpx; }\r\n  .empty-text { font-size: 28rpx; color: #999; }\r\n}\r\n</style>\r\n","import MiniProgramPage from 'E:/Delivery Service Platform/uniapp/pages/wallet/withdraw-records.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;;AA2DA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,SAAS;AAAA,MACT,UAAU;AAAA,MACV,SAAS,CAAE;AAAA,MACX,SAAS;AAAA,MACT,SAAS;AAAA,IACX;AAAA,EACD;AAAA,EACD,SAAS;AACP,SAAK,YAAY,IAAI;AAAA,EACtB;AAAA,EACD,oBAAoB;AAClB,SAAK,YAAY,IAAI;AAAA,EACtB;AAAA,EACD,SAAS;AAAA,IACP,MAAM,YAAY,QAAQ,OAAO;AAC/B,UAAI,KAAK;AAAS;AAClB,UAAI,OAAO;AACT,aAAK,UAAU;AACf,aAAK,UAAU,CAAC;AAAA,MAClB;AAEA,WAAK,UAAU;AACf,UAAI;AACF,cAAM,MAAM,MAAM,KAAK,SAAS;AAAA,UAC9B,KAAK;AAAA,UACL,QAAQ;AAAA,YACN,SAAS,KAAK;AAAA,YACd,UAAU,KAAK;AAAA,UACjB;AAAA,SACD;AACD,YAAI,IAAI,SAAS,KAAK;AACpB,gBAAM,OAAO,IAAI,KAAK;AACtB,eAAK,UAAU,KAAK,QAAQ,OAAO,IAAI;AACvC,eAAK,UAAU,KAAK,WAAW,KAAK;AACpC,eAAK;AAAA,QACP;AAAA,MACF,SAAS,GAAG;AACVA,sBAAAA,MAAc,MAAA,SAAA,4CAAA,YAAY,CAAC;AAAA,MAC7B,UAAU;AACR,aAAK,UAAU;AACfA,sBAAAA,MAAI,oBAAoB;AAAA,MAC1B;AAAA,IACD;AAAA,IACD,SAAS;AACPA,oBAAAA,MAAI,aAAa;AAAA,IAClB;AAAA,IACD,YAAY,MAAM;AAChB,YAAM,MAAM,EAAE,QAAQ,OAAO,QAAQ,MAAM,MAAM,MAAM;AACvD,aAAO,IAAI,IAAI,KAAK;AAAA,IACrB;AAAA,IACD,QAAQ,MAAM;AACZ,YAAM,MAAM,EAAE,QAAQ,MAAM,QAAQ,MAAM,MAAM,KAAK;AACrD,aAAO,IAAI,IAAI,KAAK;AAAA,IACrB;AAAA,IACD,cAAc,QAAQ;AACpB,YAAM,MAAM,EAAE,GAAG,OAAO,GAAG,OAAO,GAAG,MAAM;AAC3C,aAAO,IAAI,MAAM;AAAA,IAClB;AAAA,IACD,WAAW,SAAS;AAClB,UAAI,CAAC;AAAS,eAAO;AACrB,aAAO,QAAQ,QAAQ,KAAK,GAAG,EAAE,UAAU,GAAG,EAAE;AAAA,IAClD;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5HA,GAAG,WAAW,eAAe;"}