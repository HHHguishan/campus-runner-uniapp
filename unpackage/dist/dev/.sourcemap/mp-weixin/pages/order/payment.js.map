{"version":3,"file":"payment.js","sources":["pages/order/payment.vue","D:/Users/windows/Downloads/HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvb3JkZXIvcGF5bWVudC52dWU"],"sourcesContent":["<template>\r\n  <view class=\"payment-container\">\r\n    <!-- È°∂ÈÉ®ÂØºËà™Ê†è -->\r\n    <view class=\"nav-bar\">\r\n      <view class=\"nav-back\" @click=\"goBack\">\r\n        <text class=\"iconfont\">‚Äπ</text>\r\n      </view>\r\n      <view class=\"nav-title\">Á°ÆËÆ§ÊîØ‰ªò</view>\r\n      <view class=\"nav-placeholder\"></view>\r\n    </view>\r\n\r\n    <!-- ÊîØ‰ªòÂÜÖÂÆπ -->\r\n    <view class=\"payment-content\">\r\n      <!-- ËÆ¢ÂçïÈáëÈ¢ù -->\r\n      <view class=\"amount-card\">\r\n        <view class=\"amount-label\">ÊîØ‰ªòÈáëÈ¢ù</view>\r\n        <view class=\"amount-value\">\r\n          <text class=\"amount-symbol\">¬•</text>\r\n          <text class=\"amount-number\">{{ totalAmount }}</text>\r\n        </view>\r\n        <!-- ÂÄíËÆ°Êó∂ÊòæÁ§∫ -->\r\n        <view class=\"countdown-bar\" v-if=\"countdown > 0\">\r\n          <text class=\"countdown-icon\">‚è±Ô∏è</text>\r\n          <text class=\"countdown-text\">ÊîØ‰ªòÂâ©‰ΩôÊó∂Èó¥Ôºö{{ formatCountdown(countdown) }}</text>\r\n        </view>\r\n        <view class=\"countdown-bar expired\" v-else-if=\"countdown === 0\">\r\n          <text class=\"countdown-icon\">‚ö†Ô∏è</text>\r\n          <text class=\"countdown-text\">ËÆ¢ÂçïÂ∑≤Ë∂ÖÊó∂</text>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- ËÆ¢Âçï‰ø°ÊÅØ -->\r\n      <view class=\"order-info-section\" v-if=\"orderInfo\">\r\n        <view class=\"section-title\">ËÆ¢Âçï‰ø°ÊÅØ</view>\r\n        <view class=\"info-list\">\r\n          <view class=\"info-item\">\r\n            <text class=\"info-label\">ËÆ¢ÂçïÁºñÂè∑</text>\r\n            <text class=\"info-value\">{{ orderInfo.orderNo || '-' }}</text>\r\n          </view>\r\n          <view class=\"info-item\">\r\n            <text class=\"info-label\">ÊúçÂä°Á±ªÂûã</text>\r\n            <text class=\"info-value\">{{ getServiceTypeName(orderInfo.type) }}</text>\r\n          </view>\r\n          <view class=\"info-item\">\r\n            <text class=\"info-label\">Áâ©ÂìÅ‰ø°ÊÅØ</text>\r\n            <text class=\"info-value\">{{ orderInfo.goodsDesc || '-' }}</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- ÊîØ‰ªòÊñπÂºè -->\r\n      <view class=\"payment-method-section\">\r\n        <view class=\"section-title\">ÊîØ‰ªòÊñπÂºè</view>\r\n        <view class=\"payment-method-list\">\r\n          <!-- ‰ΩôÈ¢ùÊîØ‰ªò -->\r\n          <view class=\"payment-method-item\" @click=\"selectPayType(1)\">\r\n            <view class=\"method-left\">\r\n              <view class=\"method-icon\">\r\n                <text>üí∞</text>\r\n              </view>\r\n              <view class=\"method-info\">\r\n                <text class=\"method-name\">‰ΩôÈ¢ùÊîØ‰ªò</text>\r\n                <text class=\"method-desc\">ÂΩìÂâç‰ΩôÈ¢ùÔºö¬•{{ balance }}</text>\r\n              </view>\r\n            </view>\r\n            <view class=\"method-check\" :class=\"{ active: payType === 'BALANCE' }\">\r\n              <text class=\"check-icon\" v-if=\"payType === 'BALANCE'\">‚úì</text>\r\n            </view>\r\n          </view>\r\n\r\n          <!-- ÊîØ‰ªòÂÆùÊîØ‰ªò -->\r\n          <view class=\"payment-method-item\" @click=\"selectPayType(2)\">\r\n            <view class=\"method-left\">\r\n              <view class=\"method-icon alipay\">\r\n                <text class=\"iconfont\">üî∑</text>\r\n              </view>\r\n              <view class=\"method-info\">\r\n                <text class=\"method-name\">ÊîØ‰ªòÂÆùÊîØ‰ªò</text>\r\n                <text class=\"method-desc\">ÊîØÊåÅÊîØ‰ªòÂÆùÊ≤ôÁÆ±ÁéØÂ¢ÉÊµãËØï</text>\r\n              </view>\r\n            </view>\r\n            <view class=\"method-check\" :class=\"{ active: payType === 'ALIPAY' }\">\r\n              <text class=\"check-icon\" v-if=\"payType === 'ALIPAY'\">‚úì</text>\r\n            </view>\r\n          </view>\r\n\r\n          <!-- ÂæÆ‰ø°ÊîØ‰ªòÔºàÊú™ÂºÄÈÄöÔºâ -->\r\n          <view class=\"payment-method-item disabled\">\r\n            <view class=\"method-left\">\r\n              <view class=\"method-icon\">\r\n                <text>üíö</text>\r\n              </view>\r\n              <view class=\"method-info\">\r\n                <text class=\"method-name\">ÂæÆ‰ø°ÊîØ‰ªò</text>\r\n                <text class=\"method-desc\">ÊöÇÊú™ÂºÄÈÄö</text>\r\n              </view>\r\n            </view>\r\n            <view class=\"method-tag\">Âç≥Â∞ÜÂºÄÊîæ</view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- ÊîØ‰ªòËØ¥Êòé -->\r\n      <view class=\"tips-section\">\r\n        <view class=\"tips-title\">ÊîØ‰ªòËØ¥Êòé</view>\r\n        <view class=\"tips-list\">\r\n          <text class=\"tip-item\">‚Ä¢ ËÆ¢ÂçïÊèê‰∫§Âêé30ÂàÜÈíüÂÜÖÊú™ÊîØ‰ªòÂ∞ÜËá™Âä®ÂèñÊ∂à</text>\r\n          <text class=\"tip-item\">‚Ä¢ ÊîØ‰ªòÊàêÂäüÂêéÔºåËÆ¢ÂçïÂ∞ÜÂèëÈÄÅÁªôÈ™ëÊâã</text>\r\n          <text class=\"tip-item\">‚Ä¢ Â¶ÇÊúâÁñëÈóÆËØ∑ËÅîÁ≥ªÂÆ¢Êúç</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- Â∫ïÈÉ®ÊîØ‰ªòÊåâÈíÆ -->\r\n    <view class=\"bottom-bar\">\r\n      <view class=\"bar-info\">\r\n        <text class=\"bar-label\">ÊîØ‰ªòÈáëÈ¢ùÔºö</text>\r\n        <text class=\"bar-amount\">¬•{{ totalAmount }}</text>\r\n      </view>\r\n      <button class=\"btn-pay\" @click=\"confirmPay\" :disabled=\"paying\">\r\n        {{ paying ? 'ÊîØ‰ªò‰∏≠...' : 'Á°ÆËÆ§ÊîØ‰ªò' }}\r\n      </button>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { payOrder, getOrderDetail, alipayPayOrder } from '@/api/order.js'\r\nimport { getWalletBalance } from '@/api/wallet.js'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      orderId: null,\r\n      totalAmount: '0.00',\r\n      orderInfo: null,\r\n      payType: 'BALANCE', // BALANCE-‰ΩôÈ¢ùÊîØ‰ªò, ALIPAY-ÊîØ‰ªòÂÆù\r\n      balance: 0, // ‰ΩôÈ¢ù\r\n      paying: false, // ÊîØ‰ªò‰∏≠\r\n      countdown: -1, // ÂÄíËÆ°Êó∂ÁßíÊï∞, -1Ë°®Á§∫Êú™ÂàùÂßãÂåñ\r\n      countdownTimer: null // ÂÄíËÆ°Êó∂ÂÆöÊó∂Âô®\r\n    }\r\n  },\r\n\r\n  onLoad(options) {\r\n    console.log('üìù ÊîØ‰ªòÈ°µÈù¢ÂèÇÊï∞:', options)\r\n\r\n    if (options.orderId) {\r\n      this.orderId = options.orderId\r\n      console.log('‚úÖ ËÆ¢ÂçïID:', this.orderId)\r\n    } else {\r\n      console.error('‚ùå Áº∫Â∞ëËÆ¢ÂçïIDÂèÇÊï∞')\r\n      uni.showToast({\r\n        title: 'ÂèÇÊï∞ÈîôËØØ',\r\n        icon: 'none'\r\n      })\r\n      setTimeout(() => {\r\n        uni.navigateBack()\r\n      }, 1500)\r\n      return\r\n    }\r\n\r\n    if (options.totalAmount) {\r\n      this.totalAmount = Number(options.totalAmount).toFixed(2)\r\n      console.log('‚úÖ ÊîØ‰ªòÈáëÈ¢ù:', this.totalAmount)\r\n    }\r\n\r\n    // Âä†ËΩΩËÆ¢ÂçïËØ¶ÊÉÖ\r\n    this.loadOrderDetail()\r\n\r\n    // Âä†ËΩΩ‰ΩôÈ¢ù\r\n    this.loadBalance()\r\n  },\r\n\r\n  onUnload() {\r\n    // È°µÈù¢Âç∏ËΩΩÊó∂Ê∏ÖÈô§ÂÆöÊó∂Âô®\r\n    this.stopCountdown()\r\n  },\r\n\r\n  methods: {\r\n    /**\r\n     * Âä†ËΩΩËÆ¢ÂçïËØ¶ÊÉÖ\r\n     */\r\n    async loadOrderDetail() {\r\n      if (!this.orderId) {\r\n        console.error('‚ùå ËÆ¢ÂçïID‰∏∫Á©∫ÔºåÊó†Ê≥ïÂä†ËΩΩËÆ¢ÂçïËØ¶ÊÉÖ')\r\n        return\r\n      }\r\n\r\n      try {\r\n        console.log('üì• Âä†ËΩΩËÆ¢ÂçïËØ¶ÊÉÖ, orderId:', this.orderId)\r\n        const res = await getOrderDetail(this.orderId)\r\n        console.log('üì• ËÆ¢ÂçïËØ¶ÊÉÖÂìçÂ∫î:', JSON.stringify(res, null, 2))\r\n\r\n        if (res.code === 200 && res.data) {\r\n          this.orderInfo = res.data\r\n          // ÂêéÁ´ØËøîÂõûÁöÑÊòØ totalFeeÔºå‰∏çÊòØ totalAmount\r\n          if (res.data.totalFee) {\r\n            this.totalAmount = Number(res.data.totalFee).toFixed(2)\r\n            console.log('‚úÖ Êõ¥Êñ∞ÊîØ‰ªòÈáëÈ¢ù:', this.totalAmount)\r\n          }\r\n          // ÂêØÂä®ÂÄíËÆ°Êó∂\r\n          if (res.data.countdown && res.data.countdown > 0) {\r\n            this.startCountdown(res.data.countdown)\r\n          } else if (res.data.status === 0) {\r\n            // Â¶ÇÊûúÁä∂ÊÄÅÊòØÂæÖÊîØ‰ªò‰ΩÜÊ≤°ÊúâcountdownÂ≠óÊÆµÔºå‰ΩøÁî®ÈªòËÆ§30ÂàÜÈíü\r\n            this.startCountdown(30 * 60)\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('‚ùå Âä†ËΩΩËÆ¢ÂçïËØ¶ÊÉÖÂ§±Ë¥•:', error)\r\n        uni.showToast({\r\n          title: 'Âä†ËΩΩËÆ¢ÂçïËØ¶ÊÉÖÂ§±Ë¥•',\r\n          icon: 'none'\r\n        })\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Âä†ËΩΩ‰ΩôÈ¢ù\r\n     */\r\n    async loadBalance() {\r\n      try {\r\n        console.log('üì• Âä†ËΩΩÈí±ÂåÖ‰ΩôÈ¢ù...')\r\n        const res = await getWalletBalance()\r\n        console.log('üì• ‰ΩôÈ¢ùÂìçÂ∫î:', JSON.stringify(res, null, 2))\r\n\r\n        if (res.code === 200) {\r\n          // ÂêéÁ´ØÁõ¥Êé•ËøîÂõû BigDecimalÔºåÊâÄ‰ª• res.data Â∞±ÊòØ‰ΩôÈ¢ùÂÄº\r\n          const balanceValue = res.data !== null ? res.data : 0\r\n          this.balance = Number(balanceValue).toFixed(2)\r\n          console.log('‚úÖ ÂΩìÂâç‰ΩôÈ¢ù:', this.balance)\r\n        } else {\r\n          console.error('‚ùå Ëé∑Âèñ‰ΩôÈ¢ùÂ§±Ë¥•:', res.message)\r\n          uni.showToast({\r\n            title: res.message || 'Ëé∑Âèñ‰ΩôÈ¢ùÂ§±Ë¥•',\r\n            icon: 'none'\r\n          })\r\n        }\r\n      } catch (error) {\r\n        console.error('‚ùå Âä†ËΩΩ‰ΩôÈ¢ùÂ§±Ë¥•:', error)\r\n        uni.showToast({\r\n          title: 'Âä†ËΩΩ‰ΩôÈ¢ùÂ§±Ë¥•',\r\n          icon: 'none'\r\n        })\r\n      }\r\n    },\r\n\r\n    /**\r\n     * ÈÄâÊã©ÊîØ‰ªòÊñπÂºè\r\n     */\r\n    selectPayType(type) {\r\n      // type: 1-‰ΩôÈ¢ùÊîØ‰ªò, 2-ÊîØ‰ªòÂÆùÊîØ‰ªò\r\n      this.payType = type === 1 ? 'BALANCE' : 'ALIPAY'\r\n    },\r\n\r\n    /**\r\n     * Ëé∑ÂèñÊúçÂä°Á±ªÂûãÂêçÁß∞\r\n     */\r\n    getServiceTypeName(type) {\r\n      const types = {\r\n        1: 'Â∏ÆÊàë‰π∞',\r\n        2: 'Â∏ÆÊàëÈÄÅ',\r\n        3: 'Â∏ÆÊàëÂèñ',\r\n        4: 'ÂÖ®ËÉΩ'\r\n      }\r\n      return types[type] || '-'\r\n    },\r\n\r\n    /**\r\n     * Á°ÆËÆ§ÊîØ‰ªò\r\n     */\r\n    async confirmPay() {\r\n      // ‰ΩôÈ¢ù‰∏çË∂≥Ê£ÄÊü•\r\n      if (this.payType === 1 && Number(this.balance) < Number(this.totalAmount)) {\r\n        uni.showModal({\r\n          title: '‰ΩôÈ¢ù‰∏çË∂≥',\r\n          content: `ÂΩìÂâç‰ΩôÈ¢ùÔºö¬•${this.balance}\\nÊîØ‰ªòÈáëÈ¢ùÔºö¬•${this.totalAmount}\\n\\nËØ∑ÂÖàÂÖÖÂÄº`,\r\n          confirmText: 'ÂéªÂÖÖÂÄº',\r\n          cancelText: 'ÂèñÊ∂à',\r\n          success: (res) => {\r\n            if (res.confirm) {\r\n              uni.navigateTo({\r\n                url: '/pages/wallet/recharge'\r\n              })\r\n            }\r\n          }\r\n        })\r\n        return\r\n      }\r\n\r\n      // Á°ÆËÆ§ÊîØ‰ªò\r\n      uni.showModal({\r\n        title: 'Á°ÆËÆ§ÊîØ‰ªò',\r\n        content: `Á°ÆÂÆöÊîØ‰ªò ¬•${this.totalAmount} ÂêóÔºü`,\r\n        success: async (res) => {\r\n          if (res.confirm) {\r\n            await this.doPay()\r\n          }\r\n        }\r\n      })\r\n    },\r\n\r\n    /**\r\n     * ÊâßË°åÊîØ‰ªò\r\n     */\r\n    async doPay() {\r\n      if (this.paying) return\r\n\r\n      try {\r\n        this.paying = true\r\n        uni.showLoading({ title: 'Ê≠£Âú®ÂèëËµ∑ÊîØ‰ªò...' })\r\n\r\n        if (this.payType === 'BALANCE') {\r\n          // ‰ΩôÈ¢ùÊîØ‰ªò\r\n          const res = await payOrder({\r\n            orderId: this.orderId,\r\n            payType: 'BALANCE'\r\n          })\r\n\r\n          uni.hideLoading()\r\n          this.paying = false\r\n\r\n          if (res.code === 200) {\r\n            uni.showToast({\r\n              title: 'ÊîØ‰ªòÊàêÂäü',\r\n              icon: 'success',\r\n              duration: 1500\r\n            })\r\n\r\n            // Ë∑≥ËΩ¨Âà∞ËÆ¢ÂçïËØ¶ÊÉÖÈ°µ\r\n            setTimeout(() => {\r\n              uni.redirectTo({\r\n                url: `/pages/order/detail?id=${this.orderId}`\r\n              })\r\n            }, 1500)\r\n          } else {\r\n            uni.showToast({\r\n              title: res.message || 'ÊîØ‰ªòÂ§±Ë¥•',\r\n              icon: 'none'\r\n            })\r\n          }\r\n        } else if (this.payType === 'ALIPAY') {\r\n          // ÊîØ‰ªòÂÆùÊîØ‰ªò\r\n          const res = await alipayPayOrder({\r\n            orderId: this.orderId\r\n          })\r\n\r\n          uni.hideLoading()\r\n          this.paying = false\r\n\r\n          if (res.code === 200 && res.data) {\r\n            // Â≠òÂÖ•ÊîØ‰ªòË°®ÂçïÂπ∂Ë∑≥ËΩ¨\r\n            uni.setStorageSync('alipay_form', res.data)\r\n            uni.navigateTo({\r\n              url: `/pages/wallet/alipay-pay?orderId=${this.orderId}&amount=${this.totalAmount}&type=order`\r\n            })\r\n          } else {\r\n            uni.showToast({\r\n              title: res.message || 'ÂèëËµ∑ÊîØ‰ªòÂÆùÊîØ‰ªòÂ§±Ë¥•',\r\n              icon: 'none'\r\n            })\r\n          }\r\n        }\r\n      } catch (error) {\r\n        uni.hideLoading()\r\n        this.paying = false\r\n        console.error('‚ùå ÊîØ‰ªòÂ§±Ë¥•:', error)\r\n        uni.showToast({\r\n          title: 'ÊîØ‰ªòÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï',\r\n          icon: 'none'\r\n        })\r\n      }\r\n    },\r\n\r\n    /**\r\n     * ËøîÂõû‰∏ä‰∏ÄÈ°µ\r\n     */\r\n    goBack() {\r\n      uni.navigateBack()\r\n    },\r\n\r\n    /**\r\n     * ÂêØÂä®ÂÄíËÆ°Êó∂\r\n     */\r\n    startCountdown(seconds) {\r\n      this.countdown = seconds\r\n      this.stopCountdown() // ÂÖàÂÅúÊ≠¢Â∑≤ÊúâÁöÑÂÆöÊó∂Âô®\r\n      \r\n      this.countdownTimer = setInterval(() => {\r\n        if (this.countdown > 0) {\r\n          this.countdown--\r\n        } else {\r\n          this.stopCountdown()\r\n          // ËÆ¢ÂçïÂ∑≤Ë∂ÖÊó∂ÔºåÊèêÁ§∫Âπ∂ËøîÂõû\r\n          uni.showModal({\r\n            title: 'ËÆ¢ÂçïÂ∑≤Ë∂ÖÊó∂',\r\n            content: 'ËØ•ËÆ¢ÂçïÂ∑≤Ë∂ÖËøáÊîØ‰ªòÊó∂ÈôêÔºåËØ∑ÈáçÊñ∞‰∏ãÂçï',\r\n            showCancel: false,\r\n            success: () => {\r\n              uni.navigateBack()\r\n            }\r\n          })\r\n        }\r\n      }, 1000)\r\n    },\r\n\r\n    /**\r\n     * ÂÅúÊ≠¢ÂÄíËÆ°Êó∂\r\n     */\r\n    stopCountdown() {\r\n      if (this.countdownTimer) {\r\n        clearInterval(this.countdownTimer)\r\n        this.countdownTimer = null\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Ê†ºÂºèÂåñÂÄíËÆ°Êó∂ÊòæÁ§∫\r\n     */\r\n    formatCountdown(seconds) {\r\n      const minutes = Math.floor(seconds / 60)\r\n      const secs = seconds % 60\r\n      return `${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.payment-container {\r\n  min-height: 100vh;\r\n  background-color: #f5f5f5;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n/* ÂØºËà™Ê†è */\r\n.nav-bar {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  height: 44px;\r\n  padding: 0 15px;\r\n  background-color: #fff;\r\n  border-bottom: 1px solid #eee;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 100;\r\n}\r\n\r\n.nav-back {\r\n  width: 40px;\r\n  height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 24px;\r\n  color: #333;\r\n  cursor: pointer;\r\n}\r\n\r\n.nav-title {\r\n  font-size: 17px;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.nav-placeholder {\r\n  width: 40px;\r\n}\r\n\r\n/* ÊîØ‰ªòÂÜÖÂÆπ */\r\n.payment-content {\r\n  flex: 1;\r\n  margin-top: 54px;\r\n  margin-bottom: 70px;\r\n  padding: 15px;\r\n  overflow-y: auto;\r\n}\r\n\r\n/* ÈáëÈ¢ùÂç°Áâá */\r\n.amount-card {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  border-radius: 16px;\r\n  padding: 30px 20px;\r\n  text-align: center;\r\n  margin-bottom: 15px;\r\n  box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);\r\n}\r\n\r\n.amount-label {\r\n  font-size: 14px;\r\n  color: rgba(255, 255, 255, 0.8);\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.amount-value {\r\n  display: flex;\r\n  align-items: baseline;\r\n  justify-content: center;\r\n}\r\n\r\n.amount-symbol {\r\n  font-size: 32px;\r\n  color: #fff;\r\n  margin-right: 4px;\r\n}\r\n\r\n.amount-number {\r\n  font-size: 56px;\r\n  font-weight: bold;\r\n  color: #fff;\r\n  line-height: 1;\r\n}\r\n\r\n/* ÂÄíËÆ°Êó∂Ê†∑Âºè */\r\n.countdown-bar {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 15px;\r\n  padding: 8px 16px;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: 20px;\r\n}\r\n\r\n.countdown-bar.expired {\r\n  background: rgba(255, 77, 79, 0.3);\r\n}\r\n\r\n.countdown-icon {\r\n  font-size: 16px;\r\n  margin-right: 8px;\r\n}\r\n\r\n.countdown-text {\r\n  font-size: 14px;\r\n  color: #fff;\r\n  font-weight: 500;\r\n}\r\n\r\n/* ËÆ¢Âçï‰ø°ÊÅØ */\r\n.order-info-section,\r\n.payment-method-section,\r\n.tips-section {\r\n  background-color: #fff;\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.section-title {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.info-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.info-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n}\r\n\r\n.info-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.info-label {\r\n  font-size: 14px;\r\n  color: #666;\r\n}\r\n\r\n.info-value {\r\n  font-size: 14px;\r\n  color: #333;\r\n  font-weight: 500;\r\n}\r\n\r\n/* ÊîØ‰ªòÊñπÂºè */\r\n.payment-method-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.payment-method-item {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 15px;\r\n  background-color: #f5f7fa;\r\n  border-radius: 8px;\r\n  border: 2px solid transparent;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.payment-method-item:active {\r\n  background-color: #eef0f5;\r\n}\r\n\r\n.method-left {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.method-icon {\r\n  width: 40px;\r\n  height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #fff;\r\n  border-radius: 8px;\r\n  font-size: 20px;\r\n  margin-right: 12px;\r\n}\r\n\r\n.method-info {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.method-name {\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.method-desc {\r\n  font-size: 12px;\r\n  color: #999;\r\n}\r\n\r\n.method-check {\r\n  width: 24px;\r\n  height: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #fff;\r\n  border: 2px solid #ddd;\r\n  border-radius: 50%;\r\n}\r\n\r\n.method-check.active {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  border-color: #667eea;\r\n}\r\n\r\n.check-icon {\r\n  color: #fff;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n}\r\n\r\n.method-tag {\r\n  font-size: 12px;\r\n  color: #999;\r\n  padding: 4px 8px;\r\n  background-color: #e0e0e0;\r\n  border-radius: 4px;\r\n}\r\n\r\n.payment-method-item.disabled {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n}\r\n\r\n/* ÊîØ‰ªòËØ¥Êòé */\r\n.tips-title {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #666;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.tips-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.tip-item {\r\n  font-size: 13px;\r\n  color: #999;\r\n  line-height: 1.8;\r\n}\r\n\r\n/* Â∫ïÈÉ®ÊåâÈíÆ */\r\n.bottom-bar {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px 15px;\r\n  background-color: #fff;\r\n  border-top: 1px solid #eee;\r\n  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.bar-info {\r\n  flex: 1;\r\n}\r\n\r\n.bar-label {\r\n  font-size: 13px;\r\n  color: #666;\r\n}\r\n\r\n.bar-amount {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #ff4d4f;\r\n  margin-left: 8px;\r\n}\r\n\r\n.btn-pay {\r\n  width: 120px;\r\n  height: 44px;\r\n  line-height: 44px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: #fff;\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  border-radius: 22px;\r\n  border: none;\r\n}\r\n\r\n.btn-pay[disabled] {\r\n  opacity: 0.5;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'E:/Delivery Service Platform/uniapp/pages/order/payment.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","getOrderDetail","getWalletBalance","payOrder","alipayPayOrder"],"mappings":"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"}