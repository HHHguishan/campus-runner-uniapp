{"version":3,"file":"user.js","sources":["api/user.js"],"sourcesContent":["/**\r\n * 用户相关API\r\n */\r\n\r\nimport { get, post } from '../utils/request.js'\r\nimport { setUserInfo } from '../utils/token.js'\r\n\r\n/**\r\n * 获取用户信息\r\n * @returns {Promise}\r\n */\r\nexport function getUserInfo() {\r\n  return get('/user/info')\r\n}\r\n\r\n/**\r\n * 更新用户信息\r\n * @param {Object} data - 用户信息\r\n * @returns {Promise}\r\n */\r\nexport function updateUserInfo(data) {\r\n  return put('/user/update', data)\r\n}\r\n\r\n/**\r\n * 切换身份模式\r\n * @param {Object} data - 切换数据\r\n * @param {String} data.targetMode - 目标模式（user/rider）\r\n * @returns {Promise}\r\n */\r\nexport function switchMode(data) {\r\n  return post('/user/switch-mode', data)\r\n}\r\n\r\n/**\r\n * 获取当前身份信息\r\n * @returns {Promise}\r\n */\r\nexport function getModeInfo() {\r\n  return get('/user/mode-info')\r\n}\r\n\r\n/**\r\n * 绑定手机号\r\n * @param {Object} data - 绑定数据\r\n * @param {String} data.phone - 手机号\r\n * @param {String} data.code - 验证码\r\n * @returns {Promise}\r\n */\r\nexport function bindPhone(data) {\r\n  return post('/user/bind-phone', data)\r\n}\r\n\r\n/**\r\n * 退出登录\r\n * @returns {Promise}\r\n */\r\nexport function logout() {\r\n  // 清除本地存储\r\n  uni.removeStorageSync('Authorization')\r\n  uni.removeStorageSync('userInfo')\r\n\r\n  return Promise.resolve()\r\n}\r\n"],"names":["get","post"],"mappings":";;;AAWO,SAAS,cAAc;AAC5B,SAAOA,cAAAA,IAAI,YAAY;AACzB;AAiBO,SAAS,WAAW,MAAM;AAC/B,SAAOC,cAAI,KAAC,qBAAqB,IAAI;AACvC;;;"}